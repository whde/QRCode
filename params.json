{
  "name": "Qrcode",
  "tagline": "系统API扫描二维码,支持识别中文",
  "body": "# QRCode\r\n根据系统API, 封装二维码扫描\r\n\r\n- 1.link AVFoundation.framework \r\n\r\n- 2.#import <AVFoundation/AVFoundation.h>\r\n\r\n- 3.拷贝以下代码\r\n```objective-c\r\n/*!\r\n *  扫一扫\r\n */\r\n- (void)intoQRCodeVC {\r\n    NSString *mediaType = AVMediaTypeVideo;\r\n    AVAuthorizationStatus authStatus = [AVCaptureDevice authorizationStatusForMediaType:mediaType];\r\n    if(authStatus == AVAuthorizationStatusDenied){\r\n        if (IS_VAILABLE_IOS8) {\r\n            UIAlertController *alert = [UIAlertController alertControllerWithTitle:@\"相机权限受限\" message:@\"请在iPhone的\\\"设置->隐私->相机\\\"选项中,允许\\\"自游邦\\\"访问您的相机.\" preferredStyle:UIAlertControllerStyleAlert];\r\n            [alert addAction:[UIAlertAction actionWithTitle:@\"好\" style:UIAlertActionStyleCancel handler:^(UIAlertAction * _Nonnull action) {\r\n            }]];\r\n            [alert addAction:[UIAlertAction actionWithTitle:@\"去设置\" style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {\r\n                if ([self canOpenSystemSettingView]) {\r\n                    [self systemSettingView];\r\n                }\r\n            }]];\r\n            [self presentViewController:alert animated:YES completion:nil];\r\n        } else {\r\n            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"相机权限受限\" message:@\"请在iPhone的\\\"设置->隐私->相机\\\"选项中,允许\\\"自游邦\\\"访问您的相机.\" delegate:nil cancelButtonTitle:@\"好的\" otherButtonTitles:nil];\r\n            [alert show];\r\n        }\r\n\r\n        return;\r\n    }\r\n    \r\n    QRCodeController *qrcodeVC = [[QRCodeController alloc] init];\r\n    qrcodeVC.view.alpha = 0;\r\n    [qrcodeVC setDidReceiveBlock:^(NSString *result) {\r\n        NSLog(@\"%@\", result);\r\n    }];\r\n    AppDelegate *del = (AppDelegate *)[UIApplication sharedApplication].delegate;\r\n    [del.window.rootViewController addChildViewController:qrcodeVC];\r\n    [del.window.rootViewController.view addSubview:qrcodeVC.view];\r\n    [UIView animateWithDuration:0.3 delay:0 options:UIViewAnimationOptionCurveEaseInOut animations:^{\r\n        qrcodeVC.view.alpha = 1;\r\n    } completion:^(BOOL finished) {\r\n    }];\r\n}\r\n\r\n/**\r\n *  是否可以打开设置页面\r\n *\r\n *  @return\r\n */\r\n- (BOOL)canOpenSystemSettingView {\r\n    if (IS_VAILABLE_IOS8) {\r\n        NSURL *url = [NSURL URLWithString:UIApplicationOpenSettingsURLString];\r\n        if ([[UIApplication sharedApplication] canOpenURL:url]) {\r\n            return YES;\r\n        } else {\r\n            return NO;\r\n        }\r\n    } else {\r\n        return NO;\r\n    }\r\n}\r\n\r\n/**\r\n *  跳到系统设置页面\r\n */\r\n- (void)systemSettingView {\r\n    if (IS_VAILABLE_IOS8) {\r\n        NSURL *url = [NSURL URLWithString:UIApplicationOpenSettingsURLString];\r\n        if ([[UIApplication sharedApplication] canOpenURL:url]) {\r\n            [[UIApplication sharedApplication] openURL:url];\r\n        }\r\n    }\r\n}\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}